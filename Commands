# Removes all follwoing and followers
# Just paste into console on Chrome

function clickAllUnfollowButtons() {
  let buttons = document.querySelectorAll('[data-testid$="-unfollow"]');
  buttons.forEach((button, index) => {
    setTimeout(() => {
      console.log(button.getAttribute('aria-label'));
      button.click();
      // After clicking the button, wait for 100ms before clicking the confirm button in the popup
      setTimeout(() => {
        let confirmButton = document.querySelector('[data-testid="confirmationSheetConfirm"]');
        if (confirmButton) {
          confirmButton.click();
        }
      }, 100);
    }, index * 500);
  });
}

function scrollAndProcess() {
  clickAllUnfollowButtons();

  setTimeout(() => {
    window.scrollTo(0, document.body.scrollHeight);
  }, 500);
}

setInterval(scrollAndProcess, 2000);

# Deletes likes; untested

setInterval(() => {
  for (const d of document.querySelectorAll('div[data-testid="unlike"]')) {
    d.click()
  }
  window.scrollTo(0, document.body.scrollHeight)
}, 1000)

# Deletes all tweets and retweets
https://gist.github.com/parkr/d600696478d03d6f9c32
// go to https://twitter.com/your-username, and enter the following into the developer console:
for(var i = 1; i < 500; i++){ // just do it a bunch
  // Un retweet
  document.getElementsByClassName("ProfileTweet-actionButtonUndo")[i].click();
  document.getElementsByClassName("js-close")[0].click();
  // Delete tweets
  document.getElementsByClassName("js-actionDelete")[i].childNodes[1].click();
  document.getElementsByClassName("delete-action")[0].click()
}
